!function(t){t.fn.readingtime=function(n){var e=t.extend({wpm:250,round:"round"},n),o=t.trim(this.first().text()).split(/\s+/).length;return Math[e.round](o/e.wpm)}}(jQuery),function(t,n,e,o){"use strict";if(!n.history.pushState)return t.fn.smoothState=function(){return this},void(t.fn.smoothState.options={});if(!t.fn.smoothState){var r=t("html, body"),a=n.console,i={debug:!1,anchors:"a",forms:"form",blacklist:".no-smoothState",prefetch:!1,cacheLength:0,loadingClass:"is-loading",alterRequest:function(t){return t},onBefore:function(t,n){},onStart:{duration:0,render:function(t){}},onProgress:{duration:0,render:function(t){}},onReady:{duration:0,render:function(t,n){t.html(n)}},onAfter:function(t,n){}},s={isExternal:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&e[1].length>0&&e[1].toLowerCase()!==n.location.protocol?!0:"string"==typeof e[2]&&e[2].length>0&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[n.location.protocol]+")?$"),"")!==n.location.host?!0:!1},stripHash:function(t){return t.replace(/#.*/,"")},isHash:function(t,e){e=e||n.location.href;var o=t.indexOf("#")>-1?!0:!1,r=s.stripHash(t)===s.stripHash(e)?!0:!1;return o&&r},translate:function(n){var e={dataType:"html",type:"GET"};return n="string"==typeof n?t.extend({},e,{url:n}):t.extend({},e,n)},shouldLoadAnchor:function(t,n){var e=t.prop("href");return!(s.isExternal(e)||s.isHash(e)||t.is(n)||t.prop("target"))},clearIfOverCapacity:function(t,n){return Object.keys||(Object.keys=function(t){var n,e=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}),Object.keys(t).length>n&&(t={}),t},storePageIn:function(n,e,o,r){var a=t(o);return n[e]={status:"loaded",title:a.filter("title").first().text(),html:a.filter("#"+r)},n},triggerAllAnimationEndEvent:function(n,e){e=" "+e||"";var o=0,r="animationstart webkitAnimationStart oanimationstart MSAnimationStart",a="animationend webkitAnimationEnd oanimationend MSAnimationEnd",i="allanimationend",u=function(e){t(e.delegateTarget).is(n)&&(e.stopPropagation(),o++)},l=function(e){t(e.delegateTarget).is(n)&&(e.stopPropagation(),o--,0===o&&n.trigger(i))};n.on(r,u),n.on(a,l),n.on("allanimationend"+e,function(){o=0,s.redraw(n)})},redraw:function(t){t.height()}},u=function(e){if(null!==e.state){var o=n.location.href,r=t("#"+e.state.id),a=r.data("smoothState");a.href===o||s.isHash(o,a.href)||a.load(o,!1)}},l=function(o,i){var u=t(o),l=u.prop("id"),c=null,d=!1,f={},h=n.location.href,p=function(t){t=t||!1,t&&f.hasOwnProperty(t)?delete f[t]:f={},u.data("smoothState").cache=f},g=function(n,e){e=e||t.noop;var o=s.translate(n);if(!f.hasOwnProperty(o.url)||"undefined"!=typeof o.data){f=s.clearIfOverCapacity(f,i.cacheLength),f[o.url]={status:"fetching"};var r=t.ajax(o);r.success(function(t){s.storePageIn(f,o.url,t,l),u.data("smoothState").cache=f}),r.error(function(){f[o.url].status="error"}),e&&r.complete(e)}},m=function(){if(c){var n=t(c,u);if(n.length){var o=n.offset().top;e.body.scrollTop=o}c=null}},y=function(o){var s="#"+l,c=f[o]?t(f[o].html.html()):null;c.length?(e.title=f[o].title,u.data("smoothState").href=o,i.loadingClass&&r.removeClass(i.loadingClass),i.onReady.render(u,c),u.one("ss.onReadyEnd",function(){d=!1,i.onAfter(u,c),m()}),n.setTimeout(function(){u.trigger("ss.onReadyEnd")},i.onReady.duration)):!c&&i.debug&&a?a.warn("No element with an id of "+s+" in response from "+o+" in "+f):n.location=o},v=function(t,e){var o=s.translate(t);"undefined"==typeof e&&(e=!0);var c=!1,d=!1,h={loaded:function(){var t=c?"ss.onProgressEnd":"ss.onStartEnd";d&&c?d&&y(o.url):u.one(t,function(){y(o.url)}),e&&n.history.pushState({id:l},f[o.url].title,o.url)},fetching:function(){c||(c=!0,u.one("ss.onStartEnd",function(){i.loadingClass&&r.addClass(i.loadingClass),i.onProgress.render(u),n.setTimeout(function(){u.trigger("ss.onProgressEnd"),d=!0},i.onProgress.duration)})),n.setTimeout(function(){f.hasOwnProperty(o.url)&&h[f[o.url].status]()},10)},error:function(){i.debug&&a?a.log("There was an error loading: "+o.url):n.location=o.url}};f.hasOwnProperty(o.url)||g(o),i.onStart.render(u),n.setTimeout(function(){r.scrollTop(0),u.trigger("ss.onStartEnd")},i.onStart.duration),h[f[o.url].status]()},S=function(n){var e,o=t(n.currentTarget);s.shouldLoadAnchor(o,i.blacklist)&&!d&&(n.stopPropagation(),e=s.translate(o.prop("href")),e=i.alterRequest(e),g(e))},w=function(n){var e=t(n.currentTarget);if(!n.metaKey&&!n.ctrlKey&&s.shouldLoadAnchor(e,i.blacklist)){var o=s.translate(e.prop("href"));d=!0,n.stopPropagation(),n.preventDefault(),c=e.prop("hash"),o=i.alterRequest(o),i.onBefore(e,u),v(o)}},b=function(n){var e=t(n.currentTarget);if(!e.is(i.blacklist)){n.preventDefault(),n.stopPropagation();var o={url:e.prop("action"),data:e.serialize(),type:e.prop("method")};d=!0,o=i.alterRequest(o),"get"===o.type.toLowerCase()&&(o.url=o.url+"?"+o.data),i.onBefore(e,u),v(o)}},E=function(t){t.on("click",i.anchors,w),t.on("submit",i.forms,b),i.prefetch&&t.on("mouseover touchstart",i.anchors,S)},P=function(){var t=u.prop("class");u.removeClass(t),s.redraw(u),u.addClass(t)};return i=t.extend({},t.fn.smoothState.options,i),null===n.history.state&&n.history.replaceState({id:l},e.title,h),s.storePageIn(f,h,e.documentElement.outerHTML,l),s.triggerAllAnimationEndEvent(u,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),E(u),{href:h,cache:f,clear:p,load:v,fetch:g,restartCSSAnimations:P}},c=function(n){return this.each(function(){var e=this.tagName.toLowerCase();this.id&&"body"!==e&&"html"!==e&&!t.data(this,"smoothState")?t.data(this,"smoothState",new l(this,n)):!this.id&&a?a.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==e&&"html"!==e||!a||a.warn("The smoothstate container cannot be the "+this.tagName+" tag")})};n.onpopstate=u,t.smoothStateUtility=s,t.fn.smoothState=c,t.fn.smoothState.options=i}}(jQuery,window,document),jQuery(function(t){var n={};n.jqueryReadingTime=function(){if("function"==typeof t.fn.readingtime){var n=t(".post-content");return 0===n.length?!1:(n.each(function(n,e){var o=t(e),r=o.siblings(".post-header").find(".etr"),a=o.readingtime();if(0!==r.length||(r=o.siblings(".etr"),0!==r.length)){var i=r.data("msg");i="undefined"==typeof i?"":i;var s=a+" "+i;r.text(s.trim())}}),!1)}},n.smoothState=function(){if("function"!=typeof t.fn.smoothState)return!1;var e=t("html, body"),o={},r=t("#page_content");return 0===r.length?!1:(o.onStart={duration:0,render:function(){r.addClass("is-exiting"),e.animate({scrollTop:0})}},o.onReady={duration:0,render:function(t,n){r.removeClass("is-exiting"),t.html(n)}},o.onAfter=function(){n.contentLoaded()},r.smoothState(o).data("smoothState"),!1)},n.contentLoaded=function(){return n.jqueryReadingTime(),!1},n.contentLoaded(),n.smoothState()}(jQuery));
//# sourceMappingURL=../maps/main.js.map